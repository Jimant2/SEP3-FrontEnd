@page "/accountmanagement"
@using SEP3_FrontEnd.Models
@attribute [Authorize(Policy ="SecurityLevel2")]
@inject AuthenticationStateProvider AuthenticationStateProvider

<AuthorizeView>

    <h3>Hello @context.User.Identity.Name</h3>
    <div class="row">
        <div class="col-md-4">
            <form>
                <div class="form-group">
                    <label class="control-label">Username</label>
                    <br />
                    <input placeholder="Username" @bind="username" />
                </div>
                <div class="form-group">
                    <label class="control-label">Password</label>
                    <br />
                    <input type="password" placeholder="Password" @bind="password" />
                </div>
                <div class="form-group">
                    <label class="control-label">E-mail</label>
                    <br />
                    <input placeholder="Username" @bind="email" />
                </div>
            </form>
            <button class="btn btn-primary" @onclick="updateAccount">Update information</button>
            <label>@result</label>
        </div>
        </div>
</AuthorizeView>

@code {
    private string username { get; set; }
    private string password { get; set; }
    private string email { get; set; }
    private string result { get; set; }

    public async Task updateAccount()
    {
        User user = new User()
        {
            UserName = username,
            Password = password,
            email = email
        };

        Console.WriteLine("Account updated");

        result = "Account updated";
    }
}

